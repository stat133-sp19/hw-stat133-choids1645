getwd()
getwd()
#curry
curry <- read.csv("data/stephen-curry.csv", stringsAsFactors = FALSE)
#curry
curry <- read.csv("../data/stephen-curry.csv", stringsAsFactors = FALSE)
##################################################
## Title        : Shots Data (Part 3)
## Description  : Create a csv file shots-data.csv that contains data of shots made by five players
## Input        :
##                - andre-iguodala.csv
##                - draymond-green.csv
##                - kevin-durant.csv
##                - klay-thompson.csv
##                - stephen-curry.csv
## Output       : shots-data.csv and other summaries of data in txt format
## Date         : 3/10/2019
## Author       : David Choi
##################################################
#read in five data
#curry
curry <- read.csv("../data/stephen-curry.csv", stringsAsFactors = FALSE)
curry <- data.frame(name = c("Stephen Curry"), curry)
curry$shot_made_flag[curry$shot_made_flag == "n"] <- "shot_no"
curry$shot_made_flag[curry$shot_made_flag == "y"] <- "shot_yes"
curry$minute <- ((12 * curry$period) - curry$minutes_remaining)
sink(file = '../output/stephen-curry-summary.txt')
summary(curry)
sink()
#iguodala
iguodala <- read.csv("../data/andre-iguodala.csv", stringsAsFactors = FALSE)
iguodala <- data.frame(name = c("Andre Iguodala"), iguodala)
iguodala$shot_made_flag[iguodala$shot_made_flag == "n"] <- "shot_no"
iguodala$shot_made_flag[iguodala$shot_made_flag == "y"] <- "shot_yes"
iguodala$minute <- ((12 * iguodala$period) - iguodala$minutes_remaining)
sink(file = '../output/andre-iguodala-summary.txt')
summary(iguodala)
sink()
#green
green <- read.csv("../data/draymond-green.csv", stringsAsFactors = FALSE)
green <- data.frame(name = c("Draymond Green"), green)
green$shot_made_flag[green$shot_made_flag == "n"] <- "shot_no"
green$shot_made_flag[green$shot_made_flag == "y"] <- "shot_yes"
green$minute <- ((12 * green$period) - green$minutes_remaining)
sink(file = '../output/draymond-green-summary.txt')
summary(green)
sink()
#durant
durant <- read.csv("../data/kevin-durant.csv", stringsAsFactors = FALSE)
durant <- data.frame(name = c("Kevin Durant"), durant)
durant$shot_made_flag[durant$shot_made_flag == "n"] <- "shot_no"
durant$shot_made_flag[durant$shot_made_flag == "y"] <- "shot_yes"
durant$minute <- ((12 * durant$period) - durant$minutes_remaining)
sink(file = '../output/kevin-durant-summary.txt')
summary(durant)
sink()
#thompson
thompson <- read.csv("../data/klay-thompson.csv", stringsAsFactors = FALSE)
thompson <- data.frame(name = c("Klay Thompson"), thompson)
thompson$shot_made_flag[thompson$shot_made_flag == "n"] <- "shot_no"
thompson$shot_made_flag[thompson$shot_made_flag == "y"] <- "shot_yes"
thompson$minute <- ((12 * thompson$period) - thompson$minutes_remaining)
sink(file = '../output/klay-thompson-summary.txt')
summary(thompson)
sink()
#concatenate all data into one
shots_data <- rbind(iguodala, green, durant, thompson, curry)
write.csv(x = shots_data, file = "../data/shots-data.csv", row.names = FALSE)
sink(file = '../output/shots-data-summary.txt')
summary(shots_data)
sink()
##################################################
## Title        : Shots Data 1
## Description  : Create graphs that visualize data sets in shots-data.csv
## Input        : shots-data.csv and other csv files
## Output       : scatterplots of the coordinates of the location where the shots occurred for each player
## Date         : 3/10/2019
## Author       : David Choi
##################################################
library(dplyr)
library(ggplot2)
library(jpeg)
library(grid)
#file location of data sets
shots_data <- read.csv(file = "../data/shots-data.csv", stringsAsFactors = FALSE)
iguodala <- filter(shots_data, shots_data$name == "Andre Iguodala")
green <- filter(shots_data, shots_data$name == "Draymond Green")
durant <- filter(shots_data, shots_data$name == "Kevin Durant")
thompson <- filter(shots_data, shots_data$name == "Klay Thompson")
curry <- filter(shots_data, shots_data$name == "Stephen Curry")
#file location of the court image
court_file <- "../images/nba-court.jpg"
court_image <- rasterGrob(readJPEG(court_file),
width = unit(1, "npc"),
height = unit(1, "npc"))
#4.1
#Andre Iguodala
pdf(file = '../images/andre-iguodala-shot-chart.pdf', width = 6.5, height = 5)
ggplot(data = iguodala) +
annotation_custom(court_image, -250, 250, -50, 420) +
geom_point(aes(x = x, y = y, color = shot_made_flag), size = 0.8) +
ylim(-50, 420) +
ggtitle('Shot Chart: Andre Iguodala (2016 season)') +
theme_minimal()
dev.off()
#Draymond Green
pdf(file = '../images/draymond-green-shot-chart.pdf', width = 6.5, height = 5)
ggplot(data = green) +
annotation_custom(court_image, -250, 250, -50, 420) +
geom_point(aes(x = x, y = y, color = shot_made_flag), size = 0.8) +
ylim(-50, 420) +
ggtitle('Shot Chart: Draymond Green (2016 season)') +
theme_minimal()
dev.off()
#Kevin Durant
pdf(file = '../images/kevin-durant-shot-chart.pdf', width = 6.5, height = 5)
ggplot(data = durant) +
annotation_custom(court_image, -250, 250, -50, 420) +
geom_point(aes(x = x, y = y, color = shot_made_flag), size = 0.8) +
ylim(-50, 420) +
ggtitle('Shot Chart: Kevin Durant (2016 season)') +
theme_minimal()
dev.off()
#Klay Thompson
pdf(file = '../images/klay-thompson-shot-chart.pdf', width = 6.5, height = 5)
ggplot(data = thompson) +
annotation_custom(court_image, -250, 250, -50, 420) +
geom_point(aes(x = x, y = y, color = shot_made_flag), size = 0.8) +
ylim(-50, 420) +
ggtitle('Shot Chart: Klay Thompson (2016 season)') +
theme_minimal()
dev.off()
#Stephen Curry
pdf(file = '../images/stephen-curry-shot-chart.pdf', width = 6.5, height = 5)
ggplot(data = curry) +
annotation_custom(court_image, -250, 250, -50, 420) +
geom_point(aes(x = x, y = y, color = shot_made_flag), size = 0.8) +
ylim(-50, 420) +
ggtitle('Shot Chart: Stephen Curry (2016 season)') +
theme_minimal()
dev.off()
#4.2
shots_charts <- ggplot(data = shots_data) +
annotation_custom(court_image, -250, 250, -50, 420) +
geom_point(aes(x = x, y = y, color = shot_made_flag), size = 0.8) +
facet_wrap(~name, ncol = 3) +
ylim(-50, 420) +
ggtitle('Shot Chart: GSW (2016 season)') +
theme_minimal() +
theme(legend.title = element_blank(), legend.position = "top")
ggsave(filename = "../images/gsw-shot-charts.pdf", plot = shots_charts, width = 8, height = 7)
ggsave(filename = "../images/gsw-shot-charts.png", plot = shots_charts, width = 8, height = 7)
---
title: "workout01-david-choi"
author: "David Choi"
output: github_document
---
```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```
```{r echo=FALSE}
library(dplyr)
library(ggplot2)
```
```{r echo=FALSE}
shots_data <- read.csv(file = "../data/shots-data.csv", stringsAsFactors = FALSE)
#2PT Effective Shooting % by Player
grouped2 <- group_by(filter(shots_data, shots_data$shot_type == "2PT Field Goal"), name)
out_table2 <- summarise(grouped2, total = n(), made = sum(shot_made_flag == "shot_yes"), perc_made = (made/total)) %>% arrange(desc(perc_made))
#3PT Effective Shooting % by Player
grouped3 <- group_by(filter(shots_data, shots_data$shot_type == "3PT Field Goal"), name)
out_table3 <- summarise(grouped3, total = n(), made = sum(shot_made_flag == "shot_yes"), perc_made = (made/total)) %>% arrange(desc(perc_made))
#Effective Shooting % by Player
grouped <- group_by(shots_data, name)
out_table <- summarise(grouped, total = n(), made = sum(shot_made_flag == "shot_yes"), perc_made = (made/total)) %>% arrange(desc(perc_made))
```
knitr::opts_chunk$set(echo = TRUE)
library(dplyr)
library(ggplot2)
shots_data <- read.csv(file = "../data/shots-data.csv", stringsAsFactors = FALSE)
#2PT Effective Shooting % by Player
grouped2 <- group_by(filter(shots_data, shots_data$shot_type == "2PT Field Goal"), name)
out_table2 <- summarise(grouped2, total = n(), made = sum(shot_made_flag == "shot_yes"), perc_made = (made/total)) %>% arrange(desc(perc_made))
#3PT Effective Shooting % by Player
grouped3 <- group_by(filter(shots_data, shots_data$shot_type == "3PT Field Goal"), name)
out_table3 <- summarise(grouped3, total = n(), made = sum(shot_made_flag == "shot_yes"), perc_made = (made/total)) %>% arrange(desc(perc_made))
#Effective Shooting % by Player
grouped <- group_by(shots_data, name)
out_table <- summarise(grouped, total = n(), made = sum(shot_made_flag == "shot_yes"), perc_made = (made/total)) %>% arrange(desc(perc_made))
View(out_table)
View(out_table2)
View(out_table3)
